// Function to set dark mode based on class on body
function setDarkModeToggleState() {
  const body = document.body;
  const darkModeToggle = document.getElementById('darkModeToggle');
  if (body.classList.contains('dark')) {
    darkModeToggle.checked = true; // If dark mode class is present, set toggle to checked
  } else {
    darkModeToggle.checked = false; // Otherwise, set toggle to unchecked
  }
}

// Dark mode toggle functionality
function toggleDarkMode() {
  const body = document.body;
  body.classList.toggle('dark');
  setDarkModeToggleState(); // Update toggle state when dark mode is toggled
}

// Set initial dark mode toggle state and update it when page loads
window.onload = function() {
  setDarkModeToggleState();
};

// Listen for page visibility change events
document.addEventListener('visibilitychange', function() {
  if (!document.hidden) {
    setDarkModeToggleState(); // Update toggle state when returning to the page
  }
});
